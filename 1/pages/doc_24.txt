Редактирование  раздел  Википедия
Редактирование 
 раздел
Перейти к навигации
Перейти к поиску
Стабильная версия
 была 
проверена
 
 октября 
 
 изменений
 ожидают проверки
Внимание 
некоторые
 из ожидающих проверки изменений относятся к редактируемой вами части страницы
 
показать эти изменения
 
Вы не представились системе
 Ваш адрес 
будет записан
 в 
историю изменений этой страницы
 Если вы 
представитесь системе
 или 
создадите учётную запись
 вы сможете скрыть 
адрес
 и пользоваться другими 
преимуществами
 Сообщения отправленные на ваш  можно посмотреть на 
вашей странице обсуждения
Пожалуйста не сохраняйте тестовые правки 
используйте для них песочницу
Антиспам проверка
Не
 заполняйте это
 Механизм действия протокола 
В отличие от традиционной альтернативы   который может сразу же начать передачу пакетов  устанавливает соединения которые должны быть созданы перед передачей данных соединение можно разделить на  стадии
 Установка соединения
 Передача данных
 Завершение соединения
 Состояния сеанса  
Файл   Упрощённая диаграмма состояний  Более подробно в      на английском языке
   
  Состояния сеанса 
Начальное состояние узла Фактически фиктивное
Сервер ожидает запросов установления соединения от клиента
Клиент отправил запрос серверу на установление соединения и ожидает ответа
Сервер получил запрос на соединение отправил ответный запрос и ожидает подтверждения
Соединение установлено идёт передача данных
Одна из сторон назовём её узел завершает соединение отправив сегмент с флагом 
Другая сторона узел переходит в это состояние отправив в свою очередь сегмент  и продолжает одностороннюю передачу
Узел получает  продолжает чтение и ждёт получения сегмента с флагом 
Узел заканчивает передачу и отправляет сегмент с флагом 
Узел получил сегмент с флагом  отправил сегмент с флагом  и ждёт  секунд перед окончательным закрытием соединения
Обе стороны инициировали закрытие соединения одновременно после отправки сегмента с флагом  узел также получает сегмент  отправляет  и находится в ожидании сегмента  подтверждения на свой запрос о разъединении
 Установка соединения 
Процесс начала сеанса  также называемый рукопожатие  состоит из трёх шагов
 Клиент который намеревается установить соединение посылает серверу сегмент с номером последовательности и флагом 
 Сервер получает сегмент запоминает номер последовательности и пытается создать сокет буфера и управляющие структуры памяти для обслуживания нового клиента
 В случае успеха сервер посылает клиенту сегмент с номером последовательности и флагами  и  и переходит в состояние 
 В случае неудачи сервер посылает клиенту сегмент с флагом 
 Если клиент получает сегмент с флагом  то он запоминает номер последовательности и посылает сегмент с флагом 
 Если клиент одновременно получает и флаг  что обычно и происходит то он переходит в состояние 
 Если клиент получает сегмент с флагом  то он прекращает попытки соединиться
 Если клиент не получает ответа в течение  секунд то он повторяет процесс соединения заново
 Если сервер в состоянии  получает сегмент с флагом  то он переходит в состояние 
 В противном случае после таймаута он закрывает сокет и переходит в состояние 
Процесс называется трёхэтапным рукопожатием    так как несмотря на то что возможен процесс установления соединения с использованием четырёх сегментов  в сторону сервера  в сторону клиента  в сторону клиента  в сторону сервера на практике для экономии времени используется три сегмента
Пример базового этапного согласования
                                                       
                                                     
                           
           
               
               
В строке    начинает передачу сегмента  говорящего об использовании номеров последовательности начиная со 
В строке    передаёт  и подтверждение для принятого  в адрес   Поле подтверждения показывает ожидание   приёма номера последовательности  подтверждающего  с номером 
В строке    отвечает пустым сегментом с подтверждением  для сегмента  от  
В строке    передаёт некоторые данные Отметим что номер подтверждения сегмента в строке   совпадает с номером последовательности в строке   поскольку  не занимает пространства номеров последовательности если это сделать придётся подтверждать подтверждения   для 
Существуют экспериментальные расширения протокола  сокращающие количество пакетов при установлении соединения например        Ранее также существовало расширение  Для прозрачного шифрования данных предлагается использовать расширение 
 Передача данных 
Алгоритм НейглаМедленный старт
При обмене данными приёмник использует номер последовательности содержащийся в получаемых сегментах для восстановления их исходного порядка Приёмник уведомляет передающую сторону о номере последовательности до которой он успешно получил данные включая его в поле номер подтверждения
Все получаемые данные относящиеся к промежутку подтверждённых последовательностей игнорируются Если полученный сегмент содержит номер последовательности больший чем ожидаемый то данные из сегмента буферизируются но номер подтверждённой последовательности не изменяется Если впоследствии будет принят сегмент относящийся к ожидаемому номеру последовательности то порядок данных будет автоматически восстановлен исходя из номеров последовательностей в сегментах
Для того чтобы передающая сторона не отправляла данные интенсивнее чем их может обработать приёмник  содержит средства управления потоком Для этого используется поле окно В сегментах направляемых от приёмника передающей стороне в поле окно указывается текущий размер приёмного буфера Передающая сторона сохраняет размер окна и отправляет данных не более чем указал приёмник Если приёмник указал нулевой размер окна то передачи данных в направлении этого узла не происходит пока приёмник не сообщит о большем размере окна
В некоторых случаях передающее приложение может явно затребовать передать данные до некоторой последовательности принимающему приложению не буферизируя их Для этого используется флаг  Если в полученном сегменте обнаруживается флаг  то реализация  отдаёт все буферизированные на текущий момент данные принимающему приложению Проталкивание используется например в интерактивных приложениях В сетевых терминалах нет смысла ожидать ввода пользователя после того как он закончил набирать команду Поэтому последний сегмент содержащий команду обязан содержать флаг  чтобы приложение на принимающей стороне смогло начать её выполнение
 Завершение соединения 
Завершение соединения можно рассмотреть в три этапа
 Посылка серверу от клиента флага  на завершение соединения
 Сервер посылает клиенту флаги ответа    что соединение закрыто
 После получения этих флагов клиент закрывает соединение и в подтверждение отправляет серверу   что соединение закрыто
Описание изменений
 
краткое описание вашей правки для других участников
Сохраняя изменения вы соглашаетесь с 
условиями использования
 а также соглашаетесь на безотзывную публикацию по лицензиям 
  
 и 
 Вы также соглашаетесь с тем что для атрибуции согласно условиям лицензии   достаточно будет указать гиперссылку или  страницы
Отменить
Справка по редактированию
 в новом окне
Быстрая вставка
  
подст
перенаправление 
Категория
Участник
  
 
 фильм
Теги
   
 
   
   
   
   
   
   
   
   
   
   
   
   
   
 
   
   
Теги галереи файлов
   
  
   
   
Разделы
  
   
  
   
 Итог 
   
подстСлужебные разделы
   
 См также 
   
 Примечания 
примечания
   
комментарии
   
 Литература 
   
 Ссылки 
Шаблоны
   
   
   
   
   
   
   
   
неоднозначность
   
подстдостоверность
   
  
колонкиколонкиконец
   
Внешние ссылки
   
нарушение авторских прав
   
подстредактирую
   
подстк удалению
   
подсткороткая статья
   
подстк переименованию
   
закрытозакрытоконец
   
начало цитатыконец цитатыисточник
   
перенесено с
   
перенесено на
   
   
Источники
   
 
   
  
   
 
   
   
   
подстАИ
   
подстАИ
   
подстне АИ
   
подстнет источников
   
подстнет источников в разделе
   
подстнет в источнике
Символы
Ё
ё
подстударение
Греческий алфавит
Не копируйте тексты с других сайтов 
исключения
 Материалы нарушающие 
авторские права
 будут удалены Убедитесь что ваши правки основаны на данных 
поддающихся проверке
 и 
ссылайтесь на источники
 
Правьте смело
 но для тестирования пожалуйста используйте 
песочницу
Эта страница относится к  скрытым категориям
КатегорияПРОИТПоследняя правка в текущем году
КатегорияПРОИТСтатьи по алфавиту
КатегорияСтраницы использующие волшебные ссылки 
КатегорияСтраницы использующие волшебные ссылки 
Источник  
Навигация
Персональные инструменты
Вы не представились системе
Обсуждение
Вклад
Создать учётную запись
Войти
Пространства имён
Статья
Обсуждение
русский
Просмотры
Читать
Текущая версия
Править
Править код
История
Ещё
Поиск
Навигация
Заглавная страница
Содержание
Избранные статьи
Случайная статья
Текущие события
Пожертвовать
Участие
Сообщить об ошибке
Как править статьи
Сообщество
Форум
Справка
Свежие правки
Новые страницы
Служебные страницы
Инструменты
Ссылки сюда
Связанные правки
Сведения о странице
Получить короткий 
Скачать код
Печатьэкспорт
В других проектах
Элемент Викиданных
На других языках
Политика конфиденциальности
Описание Википедии
Отказ от ответственности
Свяжитесь с нами
Кодекс поведения
Разработчики
Статистика
Заявление о куки
Мобильная версия