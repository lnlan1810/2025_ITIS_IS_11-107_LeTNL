Википедия
Материал из Википедии  свободной энциклопедии
Текущая версия страницы пока
не проверялась
опытными участниками и может значительно отличаться от
версии проверенной  августа  года
проверки требуют
правки
Перейти к навигации
Перейти к поиску
В этой статье может быть
слишком много
ссылок на другие статьи
и возможно их количество
нужно сократить
Пожалуйста оформите её согласно
правилам расстановки и оформления внутренних ссылок
и удалите повторяющиеся ссылки и все ссылки не относящиеся к контексту
мая
Предположительно эта страница или раздел нарушает
авторские права
Её содержимое вероятно скопировано с
практически без изменений
сравнить
Пожалуйста проверьте
дату появления предполагаемого источника в Архиве Интернета
и сравните с
датой внесения правок в статью
Если вы считаете что это не так выскажите ваше мнение на
странице обсуждения
этой статьи Если Вы автор то оформите
разрешение на использование текста
Дополнительный комментарий
Вероятно текст добавили в правке
которая позже была отменена но в правке
текст был возращён
Дата обнаружения нарушения
октября
Выявившему нарушение
Пожалуйста поместите сообщение
на страницу обсуждения участника
добавившего данный материал в статью
Автору статьи
Авторские права
Получение разрешений
Что делать
Название
Уровень по
модели
Прикладной
Семейство
Создан в
Порт
Назначение протокола
Доступ к почтовым ящикам
Спецификация
Основные реализации клиенты
и др
Основные реализации
серверы
англ
протокол
прикладного уровня
для доступа к
электронной почте
Базируется на
и использует
порт
а   поверх
порт   работает только с сообщениями и не требует какихлибо
пакетов
со специальными заголовками
предоставляет пользователю широкие возможности для работы с
почтовыми ящиками
находящимися на почтовом
сервере
Почтовая программа
использующая этот
протокол
получает доступ к хранилищу
корреспонденции
на
сервере
так как будто эта корреспонденция расположена на
компьютере
получателя
Электронными письмами
можно манипулировать с
компьютера
пользователя
клиента
без постоянной пересылки с
сервера
и обратно полного содержания писем
Для отправки писем используется обычно протокол
так как собственная команда отправки протокола  называемая
не содержит в себе механизма передачи служебной информации
Для имён
почтовых ящиков
папок с символами вне диапазона
используется модифицированная версия кодировки
Содержание
Цель разработки протокола
Преимущества по сравнению с
Сообщения и их атрибуты
Порядковый номер сообщения
Флаги сообщения
Внутренние дата и время сообщения на сервере
Прочие атрибуты
Взаимодействие клиента и сервера
Состояния сервера
Команды протокола
Примечания
Литература
Ссылки
Цель разработки протокола
править
править код
Протокол  представляет собой альтернативу
с зачаточными способностями по отправке
Первая версия протокола  имела ряд недостатков и наиболее серьёзный из них  отсутствие возможностей по управлению перемещением и хранением сообщений на сервере В  сообщения загружаются с почтового сервера все сразу после чего они с сервера удаляются то есть отсутствует возможность выбирать сообщения для получения
Для решения проблем связанных с этой особенностью  в  году
Марк Криспин
англ
работавший тогда в
Стэнфордском университете
создал новый
протокол
получения почты с
сервера
Новый протокол предоставил пользователям возможность получения электронной почты в различных местах из одного почтового ящика Пользователю предоставляется возможность управлять сообщениями в своём почтовом ящике и дополнительные функции по обслуживанию почтовых ящиков на сервере
В дальнейшем протокол  был доработан в
версии  есть возможность получать с сервера избранные сообщения и оставлять избранные сообщения на сервере В последних версиях между  и  основное различие для пользователя   может обращаться к письмам в разных почтовых папках на сервере и перемещать письма между ними а  обращается к письмам на сервере по номерам в линейном списке то есть работает только с одной почтовой папкой
Версии протокола
в
реализован на
спецификация отсутствует
реализован в
описан в
в
доработан в
спецификация существует только в черновом варианте
года
плюс в
описаны различия между  и
Преимущества по сравнению с
править
править код
При использовании
клиент подключается к серверу только на промежуток времени необходимый для загрузки новых сообщений При использовании  соединение не разрывается пока пользовательский
интерфейс
активен а сообщения загружаются только по требованию клиента Это позволяет уменьшить
время отклика
для пользователей в чьих ящиках имеется много сообщений большого объёма
Протокол
требует чтобы текущий клиент был единственным подключённым к ящику  допускает одновременный доступ нескольких клиентов к ящику и предоставляет клиенту возможность отслеживать изменения вносимые другими клиентами подключёнными одновременно с ним
Благодаря системе флагов определённой в  клиент может отслеживать состояние сообщения прочитано отправлен ответ удалено и т д данные о флагах хранятся на сервере
Клиенты  могут создавать переименовывать и удалять ящики и перемещать сообщения между ящиками Кроме того можно использовать расширение
для управления правами доступа к ящикам
Поиск сообщений происходит на стороне сервера
имеет явный механизм расширения
Сообщения и их атрибуты
править
править код
работает только с сообщениями и не требует какихлибо пакетов со специальными заголовками
Каждое сообщение имеет несколько связанных с ним атрибутов Эти атрибуты могут быть определены индивидуально или совместно с другими атрибутами
править
править код
Каждому сообщению ставится в соответствие
битный код
который при использовании совместно с уникальным идентификатором образует
битовую
последовательность гарантирующую однозначную идентификацию сообщения в почтовом ящике Чем позже сообщение пришло тем больше его
ассоциируется с почтовым ящиком и посылается в виде кода  отклика  на фазе выбора почтового ящика Если  из предыдущей
сессии
по какойто причине не может быть использован  должен быть инкрементирован
сообщения не должно изменяться в пределах сессии его не следует изменять и от сессии к сессии Однако если невозможно сохранить  сообщения в последующей сессии каждая следующая сессия должна иметь новый уникальный код идентификатора который должен быть больше чем любой  использованный ранее
Порядковый номер сообщения
править
править код
Порядковый номер сообщения в почтовом ящике начинается с  Каждое сообщение начиная со второго имеет порядковый номер ровно на  больше чем предшествующее ему
В течение сессии допустимо изменение порядкового номера сообщения Например когда сообщение удаляется из почтового ящика номера всех последующих сообщений изменяются
Флаги сообщения
править
править код
Этот атрибут представляет собой список из нуля или более именованных
лексем
соотнесённых с данным сообщением Флаг устанавливается путём его добавления к этому списку и обнуляется путём его удаления В   существует два типа флагов Флаг может быть постоянным или действующим только на время данной сессии
Системным флагом является флаг имя которого определено в спецификации протокола Все системные флаги начинаются с символа
В настоящее время определены следующие системные флаги
сообщение прочитано
на сообщение отправлен ответ
сообщение отмечено как важное
сообщение отмечено как удалённое
сообщение отмечено как черновик
недавнее сообщение впервые появилось в ящике в ходе текущей сессии
Внутренние дата и время сообщения на сервере
править
править код
Время и дата получения сообщения В случае доставки сообщения посредством протокола
дата и время доставки конечному адресату Для сообщений доставленных командой копирования  внутренняя дата и время отправителя сообщения При использовании команды
дата и время заданные параметрами команды
Прочие атрибуты
править
править код
размер сообщения  число
октетов
в сообщении
структура конверта сообщения
структура тела сообщения
Взаимодействие клиента и сервера
править
править код
Соединение   подразумевает установление связи между
клиентом
и
сервером
Клиент посылает серверу команды сервер клиенту  данные и уведомления о статусе выполнения запроса Все сообщения как клиента так и сервера имеют форму строк завершающихся специальной последовательностью
Любая процедура начинается с команды клиента Любая команда клиента начинается с префиксаидентификатора обычно короткая буквенноцифровая строка например
и т д называемого меткой  Для каждой команды клиент генерирует свою метку
Возможны два случая когда строка отправленная клиентом не представляет собой законченную команду В первом  аргумент команды снабжается кодом определяющим число
октетов
в строке Во втором  аргументы команды требуют отклика со стороны сервера В обоих случаях сервер посылает запрос продолжения команды начинающийся с символа
Клиент должен завершить отправку одной команды прежде чем отправить другую
Протокольный приемник сервера читает строку команды пришедшей от клиента осуществляет её разбор выделяет параметры и передаёт серверу данные По завершении команды сервер посылает отклик
Данные передаваемые сервером клиенту а также статусные отклики которые не указывают на завершение выполнения команды имеют
префикс
и называются непомеченными откликами
Данные могут быть отправлены сервером в ответ на команду клиента или по собственной инициативе Формат данных не зависит от причины отправки
Отклик указывает на удачноенеудачное выполнение операции Он использует ту же метку что и команда клиента запустившая процедуру Таким образом если осуществляется более чем одна команда метка сервера указывает на команду вызвавшую данный отклик Имеется три вида отклика завершения сервера
успешное выполнение
неудача
протокольная ошибка например не узнана команда или зафиксирована синтаксическая ошибка
Протокольный приемник клиента   читает строку отклика от сервера и предпринимает действия в соответствии с первым символом
или
Клиент должен быть готов принять любой отклик сервера в любое время Данные сервера должны быть записаны так чтобы клиент мог их непосредственно использовать не посылая серверу уточняющих запросов
Состояния сервера
править
править код
Сервер   находится в одном из четырёх состояний
Большинство команд можно использовать только в определённых состояниях
В состоянии
без
аутентификации
клиент должен предоставить имя и пароль прежде чем ему станет доступно большинство команд Переход в это состояние производится при установлении соединения без предварительной аутентификации
В состоянии
аутентификации
клиент идентифицирован и должен выбрать почтовый ящик после чего ему станут доступны команды для работы с сообщениями Переход в это состояние происходит при установлении соединения с предварительной
аутентификацией
когда выданы все необходимые идентификационные данные или при ошибочном выборе почтового ящика
В состояние
выбора
система попадает когда успешно осуществлен выбор почтового ящика
В состояние
выхода
система попадает при прерывании соединения в результате запроса клиента или вследствие независимого решения сервера
Соединение без предварительной аутентификации
Соединение с предварительной аутентификацией
Соединение отвергнуто
Успешное завершение команды
или
Успешное завершение команды
или
Выполнение команды
или неудачная команда
или
Выполнение команды
закрытие сервера или прерывание соединения
Команды протокола
править
править код
Позволяет клиенту при регистрации на сервере  использовать идентификатор пользователя и пароль в обычном текстовом виде Это не самый лучший метод но иногда это единственная возможность подключиться к серверу
Позволяет клиенту использовать при регистрации на сервере  альтернативные методы проверки подлинности Индивидуальная проверка подлинности пользователей не является обязательной и поддерживается не всеми серверами  К тому же реализации такой проверки могут различаться в зависимости от сервера Когда клиент выдает команду
сервер отвечает на неё строкой вызова в кодировке
Далее клиент должен отправить ответ на вызов сервера о проверке подлинности также закодированный  Если на сервере не поддерживается метод проверки подлинности предложенный клиентом он включает в свой ответ слово
После этого клиент должен продолжить переговоры по согласованию метода проверки подлинности Если все попытки определить метод проверки подлинности потерпели неудачу то клиент предпринимает попытку зарегистрироваться на сервере посредством команды
Закрывает почтовый ящик Когда почтовый ящик закрыт с помощью этой команды то сообщения помеченные флагом
удаляются из него Не имеет параметров
Завершает сеанс для текущего идентификатора пользователя
Создаёт новый почтовый ящик Имя и местоположение новых почтовых ящиков определяются в соответствии с общими спецификациями сервера
Применяется к почтовым ящикам Сервер  при получении этой команды попытается удалить почтовый ящик с именем указанным в качестве аргумента команды Сообщения удаляются вместе с ящиками и восстановлению не подлежат
Изменяет имя
почтового ящика
Эта команда имеет два параметра  имя почтового ящика который требуется переименовать и новое имя почтового ящика
Добавляет почтовый ящик в список активных ящиков клиента В этой команде используется только один параметр  имя почтового ящика который нужно внести в список Почтовый ящик не обязательно должен существовать чтобы его можно было добавить в список активных ящиков  это позволяет добавлять в список активных ящиков ящики которые ещё не созданы или удалять их если они пусты
Удаляет почтовые ящики из списка активных В ней так же используется один параметр  имя почтового ящика который удаляется из списка активных ящиков
клиента
При этом сам по себе почтовый ящик не удаляется
Получить список всех почтовых ящиков клиента имеет два параметра
В отличие от команды
используется для получения списка ящиков активизированных командой
Параметры  такие же как у
Формирует запрос о текущем состоянии почтового ящика Первым параметром для этой команды является имя почтового ящика к которому она применяется Второй параметр  это список критериев по которым клиент хочет получить информацию Команда
может использоваться для получения информации о состоянии почтового ящика без его открытия с помощью команд
или
Пользователь может получить информацию по критериям
общее число сообщений в почтовом ящике
число сообщений с флагом
идентификатор  который будет назначен новому сообщению
уникальный идентификатор почтового ящика
число сообщений без флага
Добавляет сообщение в конец указанного почтового ящика В качестве аргументов указываются имя ящика флаги сообщения не обязательно метка времени не обязательно и само сообщение  заголовок и тело
Имеются следующие флаги сообщений
прочитано
написан ответ
срочное
помечено для удаления
черновик
новое сообщение оно поступило в почтовый ящик после окончания прошлого сеанса
Если в команде указаны флаги то они устанавливаются для добавляемого сообщения В любом случае для сообщения устанавливается флаг
Если в команде задана метка времени то это время будет установлено в качестве времени создания сообщения в противном случае за время создания принимается текущее время
Поскольку сообщение состоит не из одной строки используются
литералы
Пример
Расширение
описанное в
позволяет одной командой добавлять в почтовый ящик несколько сообщений
Устанавливает контрольную точку в почтовом ящике Любые операции такие например как запись данных из памяти сервера на его
жёсткий диск
должны выполняться при соответствующем состоянии почтового ящика Именно для проверки целостности почтового ящика после дисковых и других подобных им операций и применяется команда
Эта команда используется без параметров
Удаляет из почтового ящика все сообщения помеченные флагом
при этом почтовый ящик не закрывается Ответ сервера на команду
представляет собой отчёт о новом состоянии почтового ящика
Поиск сообщений по критериям в активном почтовом ящике с последующим отображением результатов в виде номера сообщения
Возможен поиск сообщений в теле которых имеется определённая текстовая строка или имеющих определённый флаг или полученных до определённой даты и т д
Получить текст почтового сообщения Команда применяется только для отображения сообщений В отличие от
клиент  не сохраняет копию сообщения на клиентском
ПК
Изменяет информацию о сообщении
Копирует сообщения из одного
почтового ящика
в другой
Используется в связке с командами
или
С её помощью в этих командах можно использовать реальные идентификационные номера  вместо последовательности чисел из диапазона номеров сообщений
Запрос у сервера  информации о его возможностях
Команда ничего не делает Она может применяться для поддержки активности во время сеанса для того чтобы сеанс не прекратился по таймеру интервала ожидания Ответ сервера на команду
всегда должен быть положительным Так как сервер часто в ответе возвращает состояние выполнения той или иной команды то
вполне можно использовать как триггер для периодического запроса о состоянии сервера
Примечания
править
править код
В чем разница между  и
рус
Дата обращения  июля
Архивировано
июля  года
Семенов
Литература
править
править код
Ссылки
править
править код
англ
англ
Дата обращения  апреля  Архивировано из
оригинала
октября  года
англ
Семенов ЮА
Протокол Интернет для работы с сообщениями
Телекоммуникационные технологии  эл изд
М
ИТЭФ    июня
Схемы
Официальные
Неофициальные
Основные
протоколы
по уровням
модели
Физический
Канальный
Сетевой
Транспортный
Сеансовый
Представления
Прикладной
Электронная почта
Передача файлов
Удалённый доступ
Другие прикладные
Список портов  и
Источник
Категории
Появились в  году
Протоколы прикладного уровня
Электронная почта
год в науке
Скрытые категории
ВикипедияСтатьи с нераспознанным языком
ВикипедияСтатьи со слишком большим количеством внутренних ссылок с мая  года
ВикипедияСтатьи со слишком большим количеством внутренних ссылок
ВикипедияСтатьи с шаблонами недостатков по алфавиту
ВикипедияВозможное нарушение авторских прав обнаруженное более месяца назад
ВикипедияВозможное нарушение авторских прав
ПРОИТСтатьи по алфавиту
ПРОИТПоследняя правка в текущем месяце
ВикипедияСтраницы с шаблоном нп без дополнительного текста
Страницы использующие волшебные ссылки
Страницы использующие волшебные ссылки
Навигация
Персональные инструменты
Вы не представились системе
Обсуждение
Вклад
Создать учётную запись
Войти
Пространства имён
Статья
Обсуждение
русский
Просмотры
Читать
Текущая версия
Править
Править код
История
Ещё
Поиск
Навигация
Заглавная страница
Содержание
Избранные статьи
Случайная статья
Текущие события
Пожертвовать
Участие
Сообщить об ошибке
Как править статьи
Сообщество
Форум
Справка
Свежие правки
Новые страницы
Служебные страницы
Инструменты
Ссылки сюда
Связанные правки
Постоянная ссылка
Сведения о странице
Цитировать страницу
Получить короткий
Скачать код
Печатьэкспорт
Скачать как
Версия для печати
В других проектах
Элемент Викиданных
На других языках
Беларуская
Български
Македонски
српскохрватски
Српски
Укранська
Править ссылки
Эта страница в последний раз была отредактирована  апреля  в
Текст доступен по
лицензии   С указанием авторства  С сохранением условий
в отдельных случаях могут действовать дополнительные условия
Подробнее см
Условия использования
зарегистрированный товарный знак некоммерческой организации
Фонд Викимедиа
Политика конфиденциальности
Описание Википедии
Отказ от ответственности
Свяжитесь с нами
Кодекс поведения
Разработчики
Статистика
Заявление о куки
Мобильная версия